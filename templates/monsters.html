{% extends 'layout.html' %}
{% block content %}


    <div class="search-container">
        <form action="#" method="get" class="search-form">
            <input type="search" name="query" placeholder="Search for a monster..." class="search-input">
            <button type="submit" class="search-button">Search</button>
        </form>
    </div>


    <div id="monsters">
        {% for monster in monsters %}
            <div>
                <h2 id="{{monster.name}}">{{monster.name}}</h2>
                <a href="https://yugioh.fandom.com/wiki/{{monster['name']}}" target="_blank" title="View on Yu-Gi-Oh! Wiki">
                    <img src="{{ monster['card_images'][0]['image_url'] }}" alt="{{ monster['name'] }}" style="max-width: 150px;" loading="lazy">
                </a>
                <p><em>{{monster.type}}</em></p>
                <p><b>Attack</b>: {{monster.atk}} | <b>Defense</b>: {{monster.def}}</p>
                <p>{{monster.desc}}</p>
            </div>
        {% endfor %}
        {% if query %}
            {% if monsters %}
                <p><big>Showing results for <b>{{ query }}</b></big></p>
                <a href="{{ url_for('monsters') }}"><button class="search-button">Back to all monsters</button></a>
            {% else %}
                <p><big>No result for <b>{{ query }}</b></big></p>
                <a href="{{ url_for('monsters') }}"><button class="search-button">Back to all monsters</button></a>
            {% endif %}   
        {% endif %}
    </div>

{% endblock content %}
